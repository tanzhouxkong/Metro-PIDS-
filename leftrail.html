<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Left Rail - Metro PIDS</title>
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css" onerror="console.warn('[LeftRail] Font Awesome 加载失败，使用本地备用图标'); var fallback = document.createElement('link'); fallback.rel = 'stylesheet'; fallback.href = 'assets/local-icons.css'; document.head.appendChild(fallback);">
    <style>
        :root { 
            --theme: #00b894; 
            --font: "Microsoft YaHei", sans-serif; 
            --bg: #f0f2f5;
            --card: #ffffff;
            --card-border: #f0f0f0;
            --text: #2d3436;
            --muted: #9aa0a6;
            --btn-blue-bg: #1677ff;
            --accent: #00b894;
            --rail-bg: rgba(255,255,255,0.65);
        }
        html.dark {
            --bg: #0b1116;
            --card: #091018;
            --card-border: rgba(255,255,255,0.04);
            --text: #e6eef6;
            --muted: #9aa6b2;
            --rail-bg: rgba(7, 16, 24, 0.65);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { 
            width: 100%; 
            height: 100%; 
            margin: 0; 
            padding: 0; 
            overflow: hidden; 
            background: transparent; 
            font-family: var(--font); 
            color: var(--text); 
        }
        /* 按钮悬停效果 */
        .ft-btn { 
            transition: transform 0.2s, filter 0.2s, box-shadow 0.2s; 
        }
        .ft-btn:hover { 
            filter: brightness(0.9); 
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1); 
        }
        .ft-btn:active { 
            filter: brightness(0.8); 
            transform: translateY(1px); 
        }
        html.dark .ft-btn:hover { 
            filter: brightness(0.95); 
        }
        html.dark .ft-btn:active { 
            filter: brightness(0.9); 
        }
    </style>
    <script type="importmap">
        {
            "imports": {
                "vue": "./assets/vue.esm-browser.js"
            }
        }
    </script>
</head>
<body>
    <div id="leftrail-app"></div>
    <script type="module">
        console.log('[LeftRail] 开始加载组件...')
        
        try {
            const { createApp } = await import('vue')
            console.log('[LeftRail] Vue 加载成功')
            
            const LeftRailModule = await import('./src/components/LeftRail.js')
            const LeftRail = LeftRailModule.default
            console.log('[LeftRail] LeftRail 组件加载成功:', LeftRail)
            
            const app = createApp(LeftRail)
            app.mount('#leftrail-app')
            console.log('[LeftRail] 组件挂载成功')
            
            // 延迟检查 DOM
            setTimeout(() => {
                const appEl = document.getElementById('leftrail-app')
                const leftRailEl = document.getElementById('leftRail')
                const buttons = leftRailEl?.querySelectorAll('button')
                console.log('[LeftRail] DOM 检查:', {
                    appEl: !!appEl,
                    leftRailEl: !!leftRailEl,
                    buttonsCount: buttons?.length || 0,
                    appElChildren: appEl?.children?.length || 0
                })
                if (buttons && buttons.length === 0) {
                    console.warn('[LeftRail] 警告: 没有找到按钮元素')
                }
            }, 1500)
        } catch (error) {
            console.error('[LeftRail] 加载失败:', error)
            console.error('[LeftRail] 错误详情:', {
                message: error.message,
                stack: error.stack,
                name: error.name
            })
        }
    </script>
</body>
</html>

